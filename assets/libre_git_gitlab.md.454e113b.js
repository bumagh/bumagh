import{_ as t,o as e,c as a,Q as r}from"./chunks/framework.1c8de9a3.js";const d=JSON.parse('{"title":"如何更改子域名?","description":"","frontmatter":{},"headers":[],"relativePath":"libre/git/gitlab.md","filePath":"libre/git/gitlab.md"}'),l={name:"libre/git/gitlab.md"},i=r(`<h1 id="如何更改子域名" tabindex="-1">如何更改子域名? <a class="header-anchor" href="#如何更改子域名" aria-label="Permalink to &quot;如何更改子域名?&quot;">​</a></h1><p>安装Gitlab完成后： Gitlab默认Nginx80端口 如果机器未占有80端口，可以直接替换成域名，解析后就可以直接访问</p><p>grep &quot;^external_url&quot; /etc/gitlab/gitlab.rb #查看当前绑定的域名或者IP vim /etc/gitlab/gitlab.rb #打开配置文件</p><h1 id="external-url-http-192-168-100-246-替换-修改成域名访问" tabindex="-1">external_url &#39;<a href="http://192.168.100.246" target="_blank" rel="noreferrer">http://192.168.100.246</a>&#39; #替换 #修改成域名访问 <a class="header-anchor" href="#external-url-http-192-168-100-246-替换-修改成域名访问" aria-label="Permalink to &quot;external_url &#39;http://192.168.100.246&#39;  #替换   #修改成域名访问&quot;">​</a></h1><p>external_url &#39;<a href="http://gitlab.new.com" target="_blank" rel="noreferrer">http://gitlab.new.com</a>&#39;<br> gitlab-ctl reconfigure #重新跑一下配置 1 2 3 4 5 如果机器80端口以占有，需要修改gitlab端口。</p><p>grep &quot;&#39;listen_port&quot; /etc/gitlab/gitlab.rb #查看默认端口 vim /etc/gitlab/gitlab.rb #打开配置文件 nginx[&#39;listen_port&#39;] = 800 #找到取消注释，修改端口 gitlab-ctl reconfigure #重新跑一下配置 1 2 3 4 由于更改端口，域名解析不到。提供方式使用云服务中的负载均衡。 首先各平台的安全组放通端口 “800”</p><p>修改nginx中gitlab配置文件 vi ~git/nginx/conf/gitlab-http.conf</p><p>server { listen *:800; 保持端口一致 server_name <a href="http://gitlab.new.com" target="_blank" rel="noreferrer">http://gitlab.new.com</a>; ... }</p><p>1 2 3 4 5 6 7 重启gitlab gitlab-ctl restart 浏览器访问 域名:端口。 ————————————————</p><pre><code>                        版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。
</code></pre><p>原文链接：<a href="https://blog.csdn.net/love8753/article/details/107613706" target="_blank" rel="noreferrer">https://blog.csdn.net/love8753/article/details/107613706</a></p>`,11),n=[i];function o(p,c,b,g,_,s){return e(),a("div",null,n)}const f=t(l,[["render",o]]);export{d as __pageData,f as default};
