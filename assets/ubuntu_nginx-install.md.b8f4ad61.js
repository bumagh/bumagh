import{_ as s,o as n,c as a,Q as e}from"./chunks/framework.bf7c2cc3.js";const d=JSON.parse('{"title":"install nginx","description":"","frontmatter":{},"headers":[],"relativePath":"ubuntu/nginx-install.md","filePath":"ubuntu/nginx-install.md"}'),o={name:"ubuntu/nginx-install.md"},p=e(`<h1 id="install-nginx" tabindex="-1">install nginx <a class="header-anchor" href="#install-nginx" aria-label="Permalink to &quot;install nginx&quot;">â€‹</a></h1><p><a href="http://nginx.org/en/linux_packages.html#Ubuntu" target="_blank" rel="noreferrer">http://nginx.org/en/linux_packages.html#Ubuntu</a> Install the prerequisites:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">apt</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">gnupg2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ca-certificates</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lsb-release</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ubuntu-keyring</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">apt</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">gnupg2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ca-certificates</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lsb-release</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ubuntu-keyring</span></span></code></pre></div><p>Import an official nginx signing key so apt could verify the packages authenticity. Fetch the key:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://nginx.org/keys/nginx_signing.key</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">gpg</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--dearmor</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tee</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/share/keyrings/nginx-archive-keyring.gpg</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">/dev/null</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://nginx.org/keys/nginx_signing.key</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">gpg</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--dearmor</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tee</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/share/keyrings/nginx-archive-keyring.gpg</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">/dev/null</span></span></code></pre></div><p>Verify that the downloaded file contains the proper key:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">gpg</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--dry-run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--quiet</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--no-keyring</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--import</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--import-options</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">import-show</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">gpg</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--dry-run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--quiet</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--no-keyring</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--import-options</span><span style="color:#24292E;"> </span><span style="color:#032F62;">import-show</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div><p>The output should contain the full fingerprint 573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62 as follows:</p><pre><code>pub   rsa2048 2011-08-19 [SC] [expires: 2024-06-14]
      573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
uid                      nginx signing key &lt;signing-key@nginx.com&gt;
</code></pre><p>If the fingerprint is different, remove the file.</p><p>To set up the apt repository for stable nginx packages, run the following command:</p><pre><code>echo &quot;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \\
http://nginx.org/packages/ubuntu \`lsb_release -cs\` nginx&quot; \\
    | sudo tee /etc/apt/sources.list.d/nginx.list
</code></pre><p>If you would like to use mainline nginx packages, run the following command instead:</p><pre><code>echo &quot;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \\
http://nginx.org/packages/mainline/ubuntu \`lsb_release -cs\` nginx&quot; \\
    | sudo tee /etc/apt/sources.list.d/nginx.list
</code></pre><p>Set up repository pinning to prefer our packages over distribution-provided ones:</p><pre><code>echo -e &quot;Package: *\\nPin: origin nginx.org\\nPin: release o=nginx\\nPin-Priority: 900\\n&quot; \\
    | sudo tee /etc/apt/preferences.d/99nginx
</code></pre><p>To install nginx, run the following commands:</p><pre><code>sudo apt update
sudo apt install nginx
</code></pre>`,18),l=[p];function t(r,c,i,y,g,E){return n(),a("div",null,l)}const h=s(o,[["render",t]]);export{d as __pageData,h as default};
